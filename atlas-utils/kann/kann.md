# atlas-utils之丰度表转换：kann

### 一、atlas-utils kann介绍

**功能描述：**

`atlas-utils kann` 用丰度表以及特征映射表，将数值表转换成更高级分类的数值表；比如`KO`表转换成`Pathway`表。

**命令行接口：**

    $ atlas-utils kann
    
    Usage: atlas-utils kann [options] <feature-map|KO\tModule> <KO matrix>
    
    Options:
      -r  round value to nearest intege;

**可选参数：**

     -r  四舍五入为整数;

### 二、使用场景实例及其用法

**使用场景经典案例：**

使用`Picrust`预测结果提升 `KEGG` 功能预测分类等级

**示例演示：**

**示例文件：**`ko.txt`，`ko-module.txt`

    $ cat ko.txt | head


    #KO     A-1     A-2     B-1     B-2     C-1     C-2
    K00001  0.000808980004315947    0.000819109861945028    0.000612948680922169    0.000635933480682086    0.000559136968670103    0.000542486474351325
    K00002  7.72038380845697e-06    7.22688422533568e-06    2.49766518305712e-05    1.57502121695051e-05    9.56550887982675e-05    9.858089243293e-05
    K00003  0.000587762479037045    0.000592135220229698    0.000519999878818898    0.000549497183764971    0.000666059282177164    0.000677436021110664
    K00004  1.49014375653928e-05    1.46178664834576e-05    1.85089288332373e-05    2.31926009709905e-05    8.68979017822108e-06    8.51275477401169e-06
    K00005  1.96858905532703e-05    1.86794815743808e-05    9.00123097627357e-05    9.40179323138053e-05    0.00011454456970013     0.000116547766601784
    K00007  1.57188468162294e-06    1.57702545666197e-06    4.306311399988e-05      4.20634852153904e-05    2.03978728434253e-05    1.40124468713644e-05
    K00008  0.000128769240001404    0.000125523931713329    9.53660568009489e-05    9.82964783346064e-05    0.000107892704793437    0.000104476113926683
    K00009  1.18943528760527e-05    1.1045799349361e-05     7.61884286493077e-05    8.46489561836192e-05    2.54266119345416e-05    2.55950032624376e-05
    K00010  0.000310116534051155    0.000303045306800677    0.000224283466136438    0.000235510886152397    0.000265891761696196    0.000264503288754388


    $ cat ko-module.txt | head


    K00844  M00001
    K12407  M00001
    K00845  M00001
    K00886  M00001
    K08074  M00001
    K00918  M00001
    K01810  M00001
    K06859  M00001
    K13810  M00001
    K15916  M00001


**运行命令：** 将`ko表`转为`module表`。

    $ atlas-utils kann ko-module.txt  ko.txt | head


    #catalog        A-1     A-2     B-1     B-2     C-1     C-2
    M00120  0.00164474      0.00163207      0.00150454      0.00148803      0.00191855      0.0019554
    M00121  0.00615696      0.00609589      0.00587453      0.00603027      0.00728818      0.00748394
    M00001  0.00716742      0.00709134      0.00746521      0.00707085      0.00839727      0.00851415
    M00002  0.00428334      0.00426116      0.00478332      0.00460004      0.00532464      0.00542467
    M00003  0.00544234      0.005411        0.00593274      0.00569337      0.00674525      0.00687093
    M00004  0.00558094      0.00551681      0.00498883      0.00493894      0.00596807      0.00603159
    M00005  0.000588987     0.000591029     0.000583269     0.00057473      0.000770807     0.000781147
    M00006  0.00179459      0.00175532      0.00141255      0.00138986      0.00156954      0.00157664
    M00007  0.00309689      0.00307266      0.0027589       0.00276315      0.00357884      0.00362954

**注意事项:**  设置 `-r ` 参数， 小数转为整数。


本文材料为 **BASE** (**B**iostack **A**pplied bioinformatic **SE**ies ) 课程 **Linux Command Line Tools for Life Scientists** 材料， 版权归 **上海逻捷信息科技有限公司** 所有。

Last Update: 2020-09-09 11:56 AM

